<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Прототип: Компонувальник</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f0f0f0; text-align: center; }
        input, button { padding: 5px; margin: 5px; font-size: 14px; }
        #tree { margin-top: 20px; padding: 10px; border: 1px solid #333; background-color: #fff; display: inline-block; min-width: 300px; text-align: left; }
        h1 { color: #2c3e50; }
    </style>
</head>
<body>
    <h1>Прототип: Компонувальник</h1>
    <p>Додавайте окремі елементи або групи, щоб побудувати ієрархію.</p>

    <input type="text" id="itemName" placeholder="Назва елемента">
    <button id="addLeafBtn">Додати елемент</button>
    <button id="addGroupBtn">Додати групу</button>

    <div id="tree">
        <h3>Ієрархія компонентів:</h3>
        <ul id="list"></ul>
    </div>

    <script>
        class Component {
            constructor(name) { this.name = name; }
            operation(indent = 0) {
                return ' '.repeat(indent) + this.name + '\n';
            }
        }

        class Composite extends Component {
            constructor(name) {
                super(name);
                this.children = [];
            }
            add(component) { this.children.push(component); }
            operation(indent = 0) {
                let result = ' '.repeat(indent) + this.name + ' (група)\n';
                this.children.forEach(child => { result += child.operation(indent + 2); });
                return result;
            }
        }

        const root = new Composite('Корінь');
        const list = document.getElementById('list');
        const itemName = document.getElementById('itemName');
        const addLeafBtn = document.getElementById('addLeafBtn');
        const addGroupBtn = document.getElementById('addGroupBtn');

        function updateTree() {
            list.textContent = root.operation();
        }

        addLeafBtn.addEventListener('click', () => {
            if(itemName.value.trim() !== '') {
                root.add(new Component(itemName.value.trim()));
                itemName.value = '';
                updateTree();
            }
        });

        addGroupBtn.addEventListener('click', () => {
            if(itemName.value.trim() !== '') {
                root.add(new Composite(itemName.value.trim()));
                itemName.value = '';
                updateTree();
            }
        });

        updateTree();
    </script>
</body>
</html>
